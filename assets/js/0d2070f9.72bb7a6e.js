"use strict";(self.webpackChunkEat_The_Pie_docs=self.webpackChunkEat_The_Pie_docs||[]).push([[71],{9452:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>s,metadata:()=>l,toc:()=>d});var r=i(4848),t=i(8453);const s={},c="VDF",l={id:"smart-contracts/vdf-contract",title:"VDF",description:"Github Link//github.com/eatthepie/contracts/blob/main/src/VDFPietrzak.sol",source:"@site/docs/smart-contracts/vdf-contract.md",sourceDirName:"smart-contracts",slug:"/smart-contracts/vdf-contract",permalink:"/smart-contracts/vdf-contract",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Lottery",permalink:"/smart-contracts/lottery-contract"},next:{title:"VDF Pietrzak Library",permalink:"/smart-contracts/pietrzak-library"}},a={},d=[{value:"Key Features",id:"key-features",level:2},{value:"Contract Structure",id:"contract-structure",level:2},{value:"Dependencies",id:"dependencies",level:3},{value:"Constants",id:"constants",level:3},{value:"RSA Modulus",id:"rsa-modulus",level:4},{value:"VDF Parameters",id:"vdf-parameters",level:4},{value:"Core Functionality",id:"core-functionality",level:2},{value:"VDF Verification",id:"vdf-verification",level:3},{value:"Parameters",id:"parameters",level:4},{value:"Returns",id:"returns",level:4},{value:"Process",id:"process",level:4},{value:"Technical Details",id:"technical-details",level:2},{value:"VDF Properties",id:"vdf-properties",level:3},{value:"RSA Modulus",id:"rsa-modulus-1",level:3}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"vdf",children:"VDF"})}),"\n",(0,r.jsxs)(n.p,{children:["Github Link: ",(0,r.jsx)(n.a,{href:"https://github.com/eatthepie/contracts/blob/main/src/VDFPietrzak.sol",children:"https://github.com/eatthepie/contracts/blob/main/src/VDFPietrzak.sol"})]}),"\n",(0,r.jsxs)(n.p,{children:["The VDFPietrzak contract implements the ",(0,r.jsx)(n.a,{href:"smart-contracts/pietzrak-library.md",children:"VDF Pietzrak Library"}),". This contract uses the ",(0,r.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/RSA_numbers#RSA-2048",children:"RSA-2048 Factoring Challenge number"})," as its modulus, providing a trusted setup for the VDF calculations."]}),"\n",(0,r.jsx)(n.h2,{id:"key-features",children:"Key Features"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\ud83d\udd12 Based on RSA-2048 Factoring Challenge"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Fast verification process"}),"\n",(0,r.jsx)(n.li,{children:"\ud83d\udd04 Sequential computation requirement"}),"\n",(0,r.jsx)(n.li,{children:"\ud83d\udee1\ufe0f Cryptographically secure parameters"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"contract-structure",children:"Contract Structure"}),"\n",(0,r.jsx)(n.h3,{id:"dependencies",children:"Dependencies"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"PietrzakLibrary"}),": Library implementing the core VDF calculations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"BigNumbers"}),": Library for handling large number operations"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"constants",children:"Constants"}),"\n",(0,r.jsx)(n.h4,{id:"rsa-modulus",children:"RSA Modulus"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-solidity",children:'bytes public constant nBytes = hex"c7970ceedcc3b0754490201a7aa613cd73911081c790f5f1a8726f463550bb5b7ff0db8e1ea1189ec72f93d1650011bd721aeeacc2acde32a04107f0648c2813a31f5b0b7765ff8b44b4b6ffc93384b646eb09c7cf5e8592d40ea33c80039f35b4f14a04b51f7bfd781be4d1673164ba8eb991c2c4d730bbbe35f592bdef524af7e8daefd26c66fc02c479af89d64d373f442709439de66ceb955f3ea37d5159f6135809f85334b5cb1813addc80cd05609f10ac6a95ad65872c909525bdad32bc729592642920f24c61dc5b3c3b7923e56b16a4d9d373d8721f24a3fc0f1b3131f55615172866bccc30f95054c824e733a5eb6817f7bc16399d48c6361cc7e5"\n'})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Uses the RSA-2048 Factoring Challenge number"}),"\n",(0,r.jsx)(n.li,{children:"Provides a widely trusted and verifiable modulus"}),"\n",(0,r.jsx)(n.li,{children:"2048-bit length ensures strong security"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"vdf-parameters",children:"VDF Parameters"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"nBitLength"}),": 2048 (bit length of RSA modulus)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"delta"}),": 4 (verification skip parameter)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"T"}),": 1048576 (2^20) (total iterations)"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"core-functionality",children:"Core Functionality"}),"\n",(0,r.jsx)(n.h3,{id:"vdf-verification",children:"VDF Verification"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-solidity",children:"function verifyPietrzak(\n    BigNumber[] memory v,\n    BigNumber memory x,\n    BigNumber memory y\n) external view returns (bool)\n"})}),"\n",(0,r.jsx)(n.h4,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"v"}),": Array of intermediate values in the VDF computation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"x"}),": Initial input to the VDF (RANDAO value)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"y"}),": Purported output of the VDF"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"returns",children:"Returns"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"bool"}),": True if the proof is valid, false otherwise"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"process",children:"Process"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Creates BigNumber representation of RSA modulus"}),"\n",(0,r.jsx)(n.li,{children:"Delegates verification to PietrzakLibrary"}),"\n",(0,r.jsx)(n.li,{children:"Performs efficient proof verification"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"technical-details",children:"Technical Details"}),"\n",(0,r.jsx)(n.h3,{id:"vdf-properties",children:"VDF Properties"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Fast Verification"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Uses skip parameter (delta) for efficient verification"}),"\n",(0,r.jsx)(n.li,{children:"Verification time logarithmic in total iterations"}),"\n",(0,r.jsx)(n.li,{children:"Much faster than computation time"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Security Guarantees"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Based on time-lock puzzles"}),"\n",(0,r.jsx)(n.li,{children:"Uses trusted RSA modulus"}),"\n",(0,r.jsx)(n.li,{children:"Provably secure under standard assumptions"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"rsa-modulus-1",children:"RSA Modulus"}),"\n",(0,r.jsx)(n.p,{children:"The contract uses the RSA-2048 Factoring Challenge number as its modulus, which provides several benefits:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Widely studied and trusted"}),"\n",(0,r.jsx)(n.li,{children:"No known factorization"}),"\n",(0,r.jsx)(n.li,{children:"Public verification of parameters"}),"\n",(0,r.jsx)(n.li,{children:"Adequate size for security"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>l});var r=i(6540);const t={},s=r.createContext(t);function c(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);